<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[shell脚本提取字符串的几种方式] | 日常收集</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/book/assets/css/0.styles.d473fa6d.css" as="style"><link rel="preload" href="/book/assets/js/app.d5dd2834.js" as="script"><link rel="preload" href="/book/assets/js/3.0d5fb1e8.js" as="script"><link rel="preload" href="/book/assets/js/146.48ff7127.js" as="script"><link rel="preload" href="/book/assets/js/4.4c5f7830.js" as="script"><link rel="prefetch" href="/book/assets/js/10.03e42995.js"><link rel="prefetch" href="/book/assets/js/100.c6e21005.js"><link rel="prefetch" href="/book/assets/js/101.5440e694.js"><link rel="prefetch" href="/book/assets/js/102.871ac4bd.js"><link rel="prefetch" href="/book/assets/js/103.a637cd07.js"><link rel="prefetch" href="/book/assets/js/104.4671f2d2.js"><link rel="prefetch" href="/book/assets/js/105.6bbaec44.js"><link rel="prefetch" href="/book/assets/js/106.29cfd674.js"><link rel="prefetch" href="/book/assets/js/107.07fd0640.js"><link rel="prefetch" href="/book/assets/js/108.bd5ae65b.js"><link rel="prefetch" href="/book/assets/js/109.e62acb76.js"><link rel="prefetch" href="/book/assets/js/11.db1edf4d.js"><link rel="prefetch" href="/book/assets/js/110.0bc4168c.js"><link rel="prefetch" href="/book/assets/js/111.77ee6aa0.js"><link rel="prefetch" href="/book/assets/js/112.39a68b1f.js"><link rel="prefetch" href="/book/assets/js/113.d14d5801.js"><link rel="prefetch" href="/book/assets/js/114.868ff7b2.js"><link rel="prefetch" href="/book/assets/js/115.d8784433.js"><link rel="prefetch" href="/book/assets/js/116.ea0df0ff.js"><link rel="prefetch" href="/book/assets/js/117.57e7cda5.js"><link rel="prefetch" href="/book/assets/js/118.4cca96d1.js"><link rel="prefetch" href="/book/assets/js/119.2d764932.js"><link rel="prefetch" href="/book/assets/js/12.2c431b88.js"><link rel="prefetch" href="/book/assets/js/120.4d8016fe.js"><link rel="prefetch" href="/book/assets/js/121.cedf8f96.js"><link rel="prefetch" href="/book/assets/js/122.60e9d0a0.js"><link rel="prefetch" href="/book/assets/js/123.83c6173b.js"><link rel="prefetch" href="/book/assets/js/124.02b11849.js"><link rel="prefetch" href="/book/assets/js/125.f31c89bb.js"><link rel="prefetch" href="/book/assets/js/126.a23eb3f3.js"><link rel="prefetch" href="/book/assets/js/127.73cc8ebe.js"><link rel="prefetch" href="/book/assets/js/128.833eb16c.js"><link rel="prefetch" href="/book/assets/js/129.6f3d5d6d.js"><link rel="prefetch" href="/book/assets/js/13.e2d4b9b7.js"><link rel="prefetch" href="/book/assets/js/130.36067eb9.js"><link rel="prefetch" href="/book/assets/js/131.682bdab7.js"><link rel="prefetch" href="/book/assets/js/132.c5ab4cc8.js"><link rel="prefetch" href="/book/assets/js/133.cf1725fd.js"><link rel="prefetch" href="/book/assets/js/134.b7c12a1a.js"><link rel="prefetch" href="/book/assets/js/135.ea2138dd.js"><link rel="prefetch" href="/book/assets/js/136.6ac58e17.js"><link rel="prefetch" href="/book/assets/js/137.8d9d6789.js"><link rel="prefetch" href="/book/assets/js/138.9c610e7f.js"><link rel="prefetch" href="/book/assets/js/139.dccc188d.js"><link rel="prefetch" href="/book/assets/js/14.85a40482.js"><link rel="prefetch" href="/book/assets/js/140.1db34a16.js"><link rel="prefetch" href="/book/assets/js/141.ebe0046a.js"><link rel="prefetch" href="/book/assets/js/142.728b20f5.js"><link rel="prefetch" href="/book/assets/js/143.0b30e92a.js"><link rel="prefetch" href="/book/assets/js/144.9656208c.js"><link rel="prefetch" href="/book/assets/js/145.ed8f75fd.js"><link rel="prefetch" href="/book/assets/js/147.674d8e71.js"><link rel="prefetch" href="/book/assets/js/148.ffe8e1f9.js"><link rel="prefetch" href="/book/assets/js/149.c2b602c4.js"><link rel="prefetch" href="/book/assets/js/15.5e811afd.js"><link rel="prefetch" href="/book/assets/js/150.263ed503.js"><link rel="prefetch" href="/book/assets/js/151.9d9aac2d.js"><link rel="prefetch" href="/book/assets/js/152.fc3ba712.js"><link rel="prefetch" href="/book/assets/js/153.0dc3816f.js"><link rel="prefetch" href="/book/assets/js/154.406760ba.js"><link rel="prefetch" href="/book/assets/js/155.38152cb2.js"><link rel="prefetch" href="/book/assets/js/156.17d8dd96.js"><link rel="prefetch" href="/book/assets/js/157.e83bc808.js"><link rel="prefetch" href="/book/assets/js/158.dcc7db19.js"><link rel="prefetch" href="/book/assets/js/159.b33b0fb8.js"><link rel="prefetch" href="/book/assets/js/16.af854a0f.js"><link rel="prefetch" href="/book/assets/js/160.2e5754f7.js"><link rel="prefetch" href="/book/assets/js/161.f321dc0b.js"><link rel="prefetch" href="/book/assets/js/162.62e16529.js"><link rel="prefetch" href="/book/assets/js/163.14040560.js"><link rel="prefetch" href="/book/assets/js/164.5d1ba678.js"><link rel="prefetch" href="/book/assets/js/165.da283bb0.js"><link rel="prefetch" href="/book/assets/js/166.36673586.js"><link rel="prefetch" href="/book/assets/js/167.c9d03e87.js"><link rel="prefetch" href="/book/assets/js/168.43e3c2bd.js"><link rel="prefetch" href="/book/assets/js/169.f8870c2d.js"><link rel="prefetch" href="/book/assets/js/17.98e34aaf.js"><link rel="prefetch" href="/book/assets/js/170.e9425ab6.js"><link rel="prefetch" href="/book/assets/js/171.ca522ef9.js"><link rel="prefetch" href="/book/assets/js/172.50393394.js"><link rel="prefetch" href="/book/assets/js/173.a51bd434.js"><link rel="prefetch" href="/book/assets/js/174.e7e3bfeb.js"><link rel="prefetch" href="/book/assets/js/175.ddc5b46f.js"><link rel="prefetch" href="/book/assets/js/176.8a0df76c.js"><link rel="prefetch" href="/book/assets/js/177.2e6add6c.js"><link rel="prefetch" href="/book/assets/js/18.2cb76d9a.js"><link rel="prefetch" href="/book/assets/js/19.d9b7c166.js"><link rel="prefetch" href="/book/assets/js/20.428d3741.js"><link rel="prefetch" href="/book/assets/js/21.d6b5ce17.js"><link rel="prefetch" href="/book/assets/js/22.af0efa56.js"><link rel="prefetch" href="/book/assets/js/23.1093c485.js"><link rel="prefetch" href="/book/assets/js/24.afb96e06.js"><link rel="prefetch" href="/book/assets/js/25.23f03f13.js"><link rel="prefetch" href="/book/assets/js/26.f7f6e665.js"><link rel="prefetch" href="/book/assets/js/27.6e6d5d3a.js"><link rel="prefetch" href="/book/assets/js/28.1d43f2e5.js"><link rel="prefetch" href="/book/assets/js/29.6f1c0c2f.js"><link rel="prefetch" href="/book/assets/js/30.f25cdd9c.js"><link rel="prefetch" href="/book/assets/js/31.c9648ba8.js"><link rel="prefetch" href="/book/assets/js/32.9430c606.js"><link rel="prefetch" href="/book/assets/js/33.88bd77cb.js"><link rel="prefetch" href="/book/assets/js/34.854faea2.js"><link rel="prefetch" href="/book/assets/js/35.18814f9b.js"><link rel="prefetch" href="/book/assets/js/36.24baaae1.js"><link rel="prefetch" href="/book/assets/js/37.ea11038a.js"><link rel="prefetch" href="/book/assets/js/38.d4991202.js"><link rel="prefetch" href="/book/assets/js/39.6bfc95fb.js"><link rel="prefetch" href="/book/assets/js/40.8c24a175.js"><link rel="prefetch" href="/book/assets/js/41.1fa35205.js"><link rel="prefetch" href="/book/assets/js/42.c514cc17.js"><link rel="prefetch" href="/book/assets/js/43.9301cdab.js"><link rel="prefetch" href="/book/assets/js/44.d11575f7.js"><link rel="prefetch" href="/book/assets/js/45.fca79767.js"><link rel="prefetch" href="/book/assets/js/46.d5a2e804.js"><link rel="prefetch" href="/book/assets/js/47.7b0360fd.js"><link rel="prefetch" href="/book/assets/js/48.bd0f7c71.js"><link rel="prefetch" href="/book/assets/js/49.035c80f5.js"><link rel="prefetch" href="/book/assets/js/5.32992f6c.js"><link rel="prefetch" href="/book/assets/js/50.d1152279.js"><link rel="prefetch" href="/book/assets/js/51.313294fa.js"><link rel="prefetch" href="/book/assets/js/52.8e4a8eb5.js"><link rel="prefetch" href="/book/assets/js/53.8e7e0468.js"><link rel="prefetch" href="/book/assets/js/54.876614b6.js"><link rel="prefetch" href="/book/assets/js/55.891fdfe4.js"><link rel="prefetch" href="/book/assets/js/56.443c1f86.js"><link rel="prefetch" href="/book/assets/js/57.4d2f07af.js"><link rel="prefetch" href="/book/assets/js/58.49544dc5.js"><link rel="prefetch" href="/book/assets/js/59.b88afba7.js"><link rel="prefetch" href="/book/assets/js/6.961a656a.js"><link rel="prefetch" href="/book/assets/js/60.d8e52776.js"><link rel="prefetch" href="/book/assets/js/61.617cc7f3.js"><link rel="prefetch" href="/book/assets/js/62.dc6f7309.js"><link rel="prefetch" href="/book/assets/js/63.11581819.js"><link rel="prefetch" href="/book/assets/js/64.792901dc.js"><link rel="prefetch" href="/book/assets/js/65.29ac8546.js"><link rel="prefetch" href="/book/assets/js/66.5b6c0025.js"><link rel="prefetch" href="/book/assets/js/67.9cb18842.js"><link rel="prefetch" href="/book/assets/js/68.08dfe0a1.js"><link rel="prefetch" href="/book/assets/js/69.ca13cfb5.js"><link rel="prefetch" href="/book/assets/js/7.e5eadd5e.js"><link rel="prefetch" href="/book/assets/js/70.92c32110.js"><link rel="prefetch" href="/book/assets/js/71.0398ac26.js"><link rel="prefetch" href="/book/assets/js/72.26624d3a.js"><link rel="prefetch" href="/book/assets/js/73.012d3896.js"><link rel="prefetch" href="/book/assets/js/74.22068dc5.js"><link rel="prefetch" href="/book/assets/js/75.bd8efbb0.js"><link rel="prefetch" href="/book/assets/js/76.1607821a.js"><link rel="prefetch" href="/book/assets/js/77.c4627241.js"><link rel="prefetch" href="/book/assets/js/78.d30f63dd.js"><link rel="prefetch" href="/book/assets/js/79.779b35d9.js"><link rel="prefetch" href="/book/assets/js/8.3201113b.js"><link rel="prefetch" href="/book/assets/js/80.7784e3a4.js"><link rel="prefetch" href="/book/assets/js/81.3d3a35b2.js"><link rel="prefetch" href="/book/assets/js/82.cd5814e6.js"><link rel="prefetch" href="/book/assets/js/83.f7b8fe61.js"><link rel="prefetch" href="/book/assets/js/84.52d944b4.js"><link rel="prefetch" href="/book/assets/js/85.1bf06577.js"><link rel="prefetch" href="/book/assets/js/86.4ba7470b.js"><link rel="prefetch" href="/book/assets/js/87.0b431d7f.js"><link rel="prefetch" href="/book/assets/js/88.cf59763b.js"><link rel="prefetch" href="/book/assets/js/89.a643d112.js"><link rel="prefetch" href="/book/assets/js/9.5cf4899a.js"><link rel="prefetch" href="/book/assets/js/90.60601289.js"><link rel="prefetch" href="/book/assets/js/91.cddf90b3.js"><link rel="prefetch" href="/book/assets/js/92.02880ae1.js"><link rel="prefetch" href="/book/assets/js/93.72ffce48.js"><link rel="prefetch" href="/book/assets/js/94.e1f953a3.js"><link rel="prefetch" href="/book/assets/js/95.db89b770.js"><link rel="prefetch" href="/book/assets/js/96.2bbf857c.js"><link rel="prefetch" href="/book/assets/js/97.9f432a0f.js"><link rel="prefetch" href="/book/assets/js/98.c59b9989.js"><link rel="prefetch" href="/book/assets/js/99.09f28172.js"><link rel="prefetch" href="/book/assets/js/vendors~docsearch.c8693219.js">
    <link rel="stylesheet" href="/book/assets/css/0.styles.d473fa6d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/book/" class="home-link router-link-active"><!----> <span class="site-name">日常收集</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>dom的事件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>element-ui</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Qcanvas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/book/370.html" class="sidebar-link"> 「运维」万字Linux下最强600条命令总结分享</a></li><li><a href="/book/368.html" class="sidebar-link"> $'\r': command not found</a></li><li><a href="/book/367.html" aria-current="page" class="active sidebar-link"> [shell脚本提取字符串的几种方式]</a></li><li><a href="/book/307.html" class="sidebar-link"> cat文档内容中搜索字符串输出到文件</a></li></ul></section></li><li><a href="/book/365.html" class="sidebar-link"> WASM 在动画引擎中的设计优化</a></li><li><a href="/book/364.html" class="sidebar-link"> 你管这破玩意叫指针？</a></li><li><a href="/book/362.html" class="sidebar-link"> 图说 WebAssembly</a></li><li><a href="/book/328.html" class="sidebar-link"> 从哲学层面浅谈计算机学习方法论</a></li><li><a href="/book/324.html" class="sidebar-link"> 微信游览器，解决安卓和ios自动播放音乐</a></li><li><a href="/book/323.html" class="sidebar-link"> CSS3 animation属性中的steps功能符深入介绍</a></li><li><a href="/book/322.html" class="sidebar-link"> 前端搞工程化：从零打造性能检测库「源码 + 视频」</a></li><li><a href="/book/321.html" class="sidebar-link"> 还在看那些老掉牙的性能优化文章么？这些最新性能指标了解下</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/301.html" class="sidebar-link">从App store下载App的不同版本ipa文件----很多东西也不是越新越好，比如APP——在 iPhone 上尤其如此</a></li><li><a href="/book/294.html" class="sidebar-link">迟子建老师的《一坛猪油》</a></li><li><a href="/book/288.html" class="sidebar-link">文本文档的协同编辑实现</a></li><li><a href="/book/287.html" class="sidebar-link">再见，整洁代码</a></li><li><a href="/book/286.html" class="sidebar-link"> 可以在 Nginx 中运行 JavaScript，厉害了！</a></li><li><a href="/book/284.html" class="sidebar-link"> word中批量调整图片大小</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>electron打包的一些问题</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/274.html" class="sidebar-link"> 文件分片代码</a></li><li><a href="/book/273.html" class="sidebar-link"> 重学 JS：为啥 await 不能用在 forEach 中详解</a></li><li><a href="/book/269.html" class="sidebar-link"> Excel函数之王，Vlookup到底怎么用？</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/248.html" class="sidebar-link"> 《提问的智慧》精读注解版</a></li><li><a href="/book/199.html" class="sidebar-link"> js监听div的resize事件</a></li><li><a href="/book/198.html" class="sidebar-link"> 引入第三方字体体积太大的问题</a></li><li><a href="/book/195.html" class="sidebar-link"> 多行溢出省略号显示（css/js）实现！</a></li><li><a href="/book/190.html" class="sidebar-link">今天带大家一起来看看下，如何实现“划词高亮”功能。</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Canvas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作中解决的疑难问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/135.html" class="sidebar-link"> 深夜，我偷听到程序员要对session下手</a></li><li><a href="/book/132.html" class="sidebar-link"> 读 《深入浅出webpack》</a></li><li><a href="/book/103.html" class="sidebar-link"> 一道被人轻视的前端面试题</a></li><li><a href="/book/101.html" class="sidebar-link">部分前端面试题参考答案</a></li><li><a href="/book/80.html" class="sidebar-link">SVGDeveloper制作矢量地图教程详解</a></li><li><a href="/book/76.html" class="sidebar-link">VisualStudio2010创建的WCF（.dll）服务第一个应用</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="shell脚本提取字符串的几种方式"><a href="#shell脚本提取字符串的几种方式" class="header-anchor">#</a> [shell脚本提取字符串的几种方式]</h1> <p>使用grep+sed+awk，查找编辑和输出。</p> <p>例子：取得droped字段的值</p> <p>原始输出</p> <div class="language- extra-class"><pre class="language-text"><code># show capture
[0 pflow]:     Interface:zc:1@1(12580)
        RX packets:29021 dropped:0
        RX bit/sec:0.00(Mbps) pkt/sec:0.00(pps)
</code></pre></div><p>获取指定字段值</p> <pre>value=<span style="color:rgba(0, 0, 0, 1);">`show capture`
</span><span style="color:rgba(0, 0, 255, 1);">echo</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(128, 0, 0, 1);">$value</span><span style="color:rgba(128, 0, 0, 1);">&quot;</span> | <span style="color:rgba(0, 0, 255, 1);">grep</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(128, 0, 0, 1);">dropped</span><span style="color:rgba(128, 0, 0, 1);">&quot;</span> | <span style="color:rgba(0, 0, 255, 1);">sed</span> <span style="color:rgba(128, 0, 0, 1);">'</span><span style="color:rgba(128, 0, 0, 1);">s/:/ /g</span><span style="color:rgba(128, 0, 0, 1);">'</span> | <span style="color:rgba(0, 0, 255, 1);">awk</span> <span style="color:rgba(128, 0, 0, 1);">'</span><span style="color:rgba(128, 0, 0, 1);">{print $5}</span><span style="color:rgba(128, 0, 0, 1);">'</span></pre> <p>说明：使用grep找到字符串所在行，使用sed把冒号替换为空格，使用awk获取想要的字符串</p> <ol start="2"><li>使用sed正则表达式提取字符串</li></ol> <p>提取数字</p> <pre>[admin]# <span style="color:rgba(0, 0, 255, 1);">echo</span> here365test666 | <span style="color:rgba(0, 0, 255, 1);">sed</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(128, 0, 0, 1);">s/.*ere([0-9]*)test([0-9]*)/1 2/g</span><span style="color:rgba(128, 0, 0, 1);">&quot;</span>
<span style="color:rgba(128, 0, 128, 1);">365</span> <span style="color:rgba(128, 0, 128, 1);">666</span></pre> <p>s表示替换，1和2分别表示用第一个括号和第二个括号里面的内容，空格需要转义。sed支持*，不支持?、+，不能用d之类，正则支持有限。</p> <p>整个sed表达式的作用是：用提取出的数字替换原来的字符串。</p> <ol start="3"><li>字符串变量截取</li></ol> <p><strong>这种方式需要把字符串存在一个变量中。</strong></p> <p>我们对以上 8 种格式做一个汇总，请看下表：</p> <table><thead><tr><th>格式</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>${string: start :length}</td> <td>从 string 字符串的左边第 start 个字符开始，向右截取 length 个字符。</td> <td>[root]# var=HelloWorld [root]# echo ${var:0:5} Hello</td></tr> <tr><td>${string: start}</td> <td>从 string 字符串的左边第 start 个字符开始截取，直到最后。</td> <td>[root]# echo ${var:5} World</td></tr> <tr><td>${string: 0-start :length}</td> <td>从 string 字符串的右边第 start 个字符开始，向右截取 length 个字符。</td> <td>[root]# echo ${var:0-5:3}  Wor</td></tr> <tr><td>${string: 0-start}</td> <td>从 string 字符串的右边第 start 个字符开始截取，直到最后。</td> <td>[root]# echo ${var:0-5} World</td></tr> <tr><td>${string#*chars}</td> <td>从 string 字符串第一次出现 *chars 的位置开始，截取 *chars 右边的所有字符。</td> <td>[root]# echo ${var#*l} loWorld</td></tr> <tr><td>${string##*chars}</td> <td>从 string 字符串最后一次出现 *chars 的位置开始，截取 *chars 右边的所有字符。</td> <td>[root]# echo ${var##*l} d</td></tr> <tr><td>${string%chars*}</td> <td>从 string 字符串第一次出现 chars* 的位置开始，截取 chars* 左边的所有字符。</td> <td>[root]# echo ${var%l*} HelloWor</td></tr> <tr><td>${string%%chars*}</td> <td>从 string 字符串最后一次出现 chars* 的位置开始，截取 chars* 左边的所有字符。</td> <td>[root]# echo ${var%%l*} He</td></tr></tbody></table> <ol start="4"><li>cut</li></ol> <p>与第3点对应，<strong>cut用来直接截取字符串，不需要把字符串存在变量中</strong>。</p> <p>cut可以按照字符、字节、列截取数据。</p> <p>原始文件</p> <pre>[root]# <span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span><span style="color:rgba(0, 0, 0, 1);"> 
abc </span><span style="color:rgba(128, 0, 128, 1);">123 zz</span><span style="color:rgba(0, 0, 0, 1);">
dfg </span><span style="color:rgba(128, 0, 128, 1);">457 yy</span></pre> <ol><li>输出第2、3个字符</li></ol> <pre>[root]# <span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span> | <span style="color:rgba(0, 0, 255, 1);">cut</span> -c2-<span style="color:rgba(128, 0, 128, 1);">3</span><span style="color:rgba(0, 0, 0, 1);">
bc
fg</span></pre> <ol start="2"><li>与【awk】类似，输出指定列</li></ol> <pre>[root@skyeye admin]# <span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span> | <span style="color:rgba(0, 0, 255, 1);">cut</span> -d <span style="color:rgba(128, 0, 0, 1);">&quot;</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span> -<span style="color:rgba(0, 0, 0, 1);">f2
</span><span style="color:rgba(128, 0, 128, 1);">123</span>
<span style="color:rgba(128, 0, 128, 1);">457</span></pre> <ol start="5"><li>tr</li></ol> <p>tr主要是替换字符串。</p> <ol><li>最常见的场景就是压缩空白格</li></ol> <pre>[root]# <span style="color:rgba(0, 0, 255, 1);">echo</span> <span style="color:rgba(128, 0, 0, 1);">'</span><span style="color:rgba(128, 0, 0, 1);">hello           123              world             456 !!!</span><span style="color:rgba(128, 0, 0, 1);">'</span> | <span style="color:rgba(0, 0, 255, 1);">tr</span> -s <span style="color:rgba(128, 0, 0, 1);">'</span> <span style="color:rgba(128, 0, 0, 1);">'</span><span style="color:rgba(0, 0, 0, 1);">
hello </span><span style="color:rgba(128, 0, 128, 1);">123</span> world <span style="color:rgba(128, 0, 128, 1);">456</span> !!!</pre> <p>-s参数指定要压缩的内容为空格</p> <ol start="2"><li>与【sed】类似，替换和删除字符串</li></ol> <p>例如制表符替换为空格</p> <p><img src="Public/upload/20230803/16910536006.gif" alt="复制代码"></p> <pre>[root@skyeye admin]# <span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span><span style="color:rgba(0, 0, 0, 1);"> 
abc    </span><span style="color:rgba(128, 0, 128, 1);">123</span><span style="color:rgba(0, 0, 0, 1);">    zz
dfg    </span><span style="color:rgba(128, 0, 128, 1);">457</span><span style="color:rgba(0, 0, 0, 1);">    yy
[root@skyeye admin]# </span><span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span> | <span style="color:rgba(0, 0, 255, 1);">tr</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(128, 0, 0, 1);">t</span><span style="color:rgba(128, 0, 0, 1);">&quot;</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span> <span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(0, 0, 0, 1);">
abc </span><span style="color:rgba(128, 0, 128, 1);">123</span><span style="color:rgba(0, 0, 0, 1);"> zz
dfg </span><span style="color:rgba(128, 0, 128, 1);">457</span> yy</pre> <p><img src="Public/upload/20230803/16910536006.gif" alt="复制代码"></p> <p>例如删除数字</p> <p><img src="Public/upload/20230803/16910536006.gif" alt="复制代码"></p> <pre>[root@skyeye admin]# <span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span><span style="color:rgba(0, 0, 0, 1);"> 
abc    </span><span style="color:rgba(128, 0, 128, 1);">123</span><span style="color:rgba(0, 0, 0, 1);">    zz
dfg    </span><span style="color:rgba(128, 0, 128, 1);">457</span><span style="color:rgba(0, 0, 0, 1);">    yy
[root@skyeye admin]# </span><span style="color:rgba(0, 0, 255, 1);">cat</span> test.<span style="color:rgba(0, 0, 255, 1);">sh</span> | <span style="color:rgba(0, 0, 255, 1);">tr</span> -d <span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(128, 0, 0, 1);">{0-9}</span><span style="color:rgba(128, 0, 0, 1);">&quot;</span><span style="color:rgba(0, 0, 0, 1);">
abc        zz
dfg        yy</span></pre> <p><img src="Public/upload/20230803/16910536006.gif" alt="复制代码"></p> <p>文章来源：https://www.cnblogs.com/superbaby11/p/17007867.html</p> <!----></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/book/368.html" class="prev">
         $'\r': command not found
      </a></span> <span class="next"><a href="/book/307.html">
         cat文档内容中搜索字符串输出到文件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><section class="side-anchor"><ul style="display:none;"></ul></section></div></div>
    <script src="/book/assets/js/app.d5dd2834.js" defer></script><script src="/book/assets/js/3.0d5fb1e8.js" defer></script><script src="/book/assets/js/146.48ff7127.js" defer></script><script src="/book/assets/js/4.4c5f7830.js" defer></script>
  </body>
</html>
