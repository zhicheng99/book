<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[核心概念] 一文说透 JS 中的执行上下文 | 日常收集</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/book/assets/css/0.styles.37081601.css" as="style"><link rel="preload" href="/book/assets/js/app.804da1e4.js" as="script"><link rel="preload" href="/book/assets/js/3.1fbb3b52.js" as="script"><link rel="preload" href="/book/assets/js/126.7eff814b.js" as="script"><link rel="preload" href="/book/assets/js/7.d1a7bcae.js" as="script"><link rel="prefetch" href="/book/assets/js/10.e27bb285.js"><link rel="prefetch" href="/book/assets/js/100.7c4cbf68.js"><link rel="prefetch" href="/book/assets/js/101.1612ecbb.js"><link rel="prefetch" href="/book/assets/js/102.ba880d57.js"><link rel="prefetch" href="/book/assets/js/103.cac0fbae.js"><link rel="prefetch" href="/book/assets/js/104.9d188c90.js"><link rel="prefetch" href="/book/assets/js/105.e109705f.js"><link rel="prefetch" href="/book/assets/js/106.aceb0934.js"><link rel="prefetch" href="/book/assets/js/107.9fbc8b91.js"><link rel="prefetch" href="/book/assets/js/108.a5b73155.js"><link rel="prefetch" href="/book/assets/js/109.48c07495.js"><link rel="prefetch" href="/book/assets/js/11.94b2e1bf.js"><link rel="prefetch" href="/book/assets/js/110.7428c790.js"><link rel="prefetch" href="/book/assets/js/111.46516f4b.js"><link rel="prefetch" href="/book/assets/js/112.ddb4abf0.js"><link rel="prefetch" href="/book/assets/js/113.81123f81.js"><link rel="prefetch" href="/book/assets/js/114.a56ccd01.js"><link rel="prefetch" href="/book/assets/js/115.053d4072.js"><link rel="prefetch" href="/book/assets/js/116.4506c3f7.js"><link rel="prefetch" href="/book/assets/js/117.507ca32a.js"><link rel="prefetch" href="/book/assets/js/118.bd181d86.js"><link rel="prefetch" href="/book/assets/js/119.974e80ce.js"><link rel="prefetch" href="/book/assets/js/12.5eab4ac2.js"><link rel="prefetch" href="/book/assets/js/120.54f7d9be.js"><link rel="prefetch" href="/book/assets/js/121.35cc97de.js"><link rel="prefetch" href="/book/assets/js/122.13d2dc7d.js"><link rel="prefetch" href="/book/assets/js/123.51dce1f7.js"><link rel="prefetch" href="/book/assets/js/124.751c5172.js"><link rel="prefetch" href="/book/assets/js/125.c4d91e9a.js"><link rel="prefetch" href="/book/assets/js/127.9debe37d.js"><link rel="prefetch" href="/book/assets/js/128.2794a994.js"><link rel="prefetch" href="/book/assets/js/129.d327f457.js"><link rel="prefetch" href="/book/assets/js/13.de4c73d5.js"><link rel="prefetch" href="/book/assets/js/130.7d4ead49.js"><link rel="prefetch" href="/book/assets/js/131.6c9d0d43.js"><link rel="prefetch" href="/book/assets/js/132.21c9cb07.js"><link rel="prefetch" href="/book/assets/js/133.d7764fd9.js"><link rel="prefetch" href="/book/assets/js/134.d04e49c1.js"><link rel="prefetch" href="/book/assets/js/135.91eaaee3.js"><link rel="prefetch" href="/book/assets/js/136.03ccfb44.js"><link rel="prefetch" href="/book/assets/js/137.9e340131.js"><link rel="prefetch" href="/book/assets/js/138.1c6752b3.js"><link rel="prefetch" href="/book/assets/js/139.37376c38.js"><link rel="prefetch" href="/book/assets/js/14.9b3845bf.js"><link rel="prefetch" href="/book/assets/js/140.25c29da1.js"><link rel="prefetch" href="/book/assets/js/141.8a35f5a7.js"><link rel="prefetch" href="/book/assets/js/142.48131e30.js"><link rel="prefetch" href="/book/assets/js/143.14f574a1.js"><link rel="prefetch" href="/book/assets/js/144.0102e4ec.js"><link rel="prefetch" href="/book/assets/js/145.d6412996.js"><link rel="prefetch" href="/book/assets/js/146.90cde601.js"><link rel="prefetch" href="/book/assets/js/147.fdaaa5bd.js"><link rel="prefetch" href="/book/assets/js/148.aa955df3.js"><link rel="prefetch" href="/book/assets/js/149.b0d8a883.js"><link rel="prefetch" href="/book/assets/js/15.d825d745.js"><link rel="prefetch" href="/book/assets/js/150.0177f1cc.js"><link rel="prefetch" href="/book/assets/js/151.9d6235e8.js"><link rel="prefetch" href="/book/assets/js/152.92a5ab00.js"><link rel="prefetch" href="/book/assets/js/153.e42af2d8.js"><link rel="prefetch" href="/book/assets/js/154.3f4d7c28.js"><link rel="prefetch" href="/book/assets/js/155.77cab610.js"><link rel="prefetch" href="/book/assets/js/156.5c2480d9.js"><link rel="prefetch" href="/book/assets/js/157.d51553c1.js"><link rel="prefetch" href="/book/assets/js/158.0d47d544.js"><link rel="prefetch" href="/book/assets/js/159.4a1246ac.js"><link rel="prefetch" href="/book/assets/js/16.5cdf2da0.js"><link rel="prefetch" href="/book/assets/js/160.1745ff9c.js"><link rel="prefetch" href="/book/assets/js/161.97b0c488.js"><link rel="prefetch" href="/book/assets/js/162.baf0ebc8.js"><link rel="prefetch" href="/book/assets/js/163.40579f9a.js"><link rel="prefetch" href="/book/assets/js/164.d6fb26ee.js"><link rel="prefetch" href="/book/assets/js/165.1380be9d.js"><link rel="prefetch" href="/book/assets/js/166.c423b024.js"><link rel="prefetch" href="/book/assets/js/167.eefbbbeb.js"><link rel="prefetch" href="/book/assets/js/168.55b5fb25.js"><link rel="prefetch" href="/book/assets/js/169.8decd6b3.js"><link rel="prefetch" href="/book/assets/js/17.dd67b656.js"><link rel="prefetch" href="/book/assets/js/170.27cef392.js"><link rel="prefetch" href="/book/assets/js/171.bf7ff78c.js"><link rel="prefetch" href="/book/assets/js/172.7f084227.js"><link rel="prefetch" href="/book/assets/js/173.67ce65de.js"><link rel="prefetch" href="/book/assets/js/174.c2f3ff63.js"><link rel="prefetch" href="/book/assets/js/175.884d96e8.js"><link rel="prefetch" href="/book/assets/js/176.a06e25bd.js"><link rel="prefetch" href="/book/assets/js/177.bc1364e1.js"><link rel="prefetch" href="/book/assets/js/178.3ef9c452.js"><link rel="prefetch" href="/book/assets/js/179.65785d35.js"><link rel="prefetch" href="/book/assets/js/18.a14b8cf1.js"><link rel="prefetch" href="/book/assets/js/180.25153283.js"><link rel="prefetch" href="/book/assets/js/181.265fb2df.js"><link rel="prefetch" href="/book/assets/js/19.3220443d.js"><link rel="prefetch" href="/book/assets/js/20.7f857d8f.js"><link rel="prefetch" href="/book/assets/js/21.9ba5653b.js"><link rel="prefetch" href="/book/assets/js/22.405d8bae.js"><link rel="prefetch" href="/book/assets/js/23.1fd51f28.js"><link rel="prefetch" href="/book/assets/js/24.68001b79.js"><link rel="prefetch" href="/book/assets/js/25.2bfdab0a.js"><link rel="prefetch" href="/book/assets/js/26.41c53fff.js"><link rel="prefetch" href="/book/assets/js/27.084d452c.js"><link rel="prefetch" href="/book/assets/js/28.f099ec1a.js"><link rel="prefetch" href="/book/assets/js/29.4a665d0e.js"><link rel="prefetch" href="/book/assets/js/30.38269247.js"><link rel="prefetch" href="/book/assets/js/31.3d1abd16.js"><link rel="prefetch" href="/book/assets/js/32.dba76885.js"><link rel="prefetch" href="/book/assets/js/33.6f14593a.js"><link rel="prefetch" href="/book/assets/js/34.1fe76271.js"><link rel="prefetch" href="/book/assets/js/35.eace5b32.js"><link rel="prefetch" href="/book/assets/js/36.e6aabe95.js"><link rel="prefetch" href="/book/assets/js/37.5808e643.js"><link rel="prefetch" href="/book/assets/js/38.f97ffa95.js"><link rel="prefetch" href="/book/assets/js/39.5348a4f8.js"><link rel="prefetch" href="/book/assets/js/4.8b638307.js"><link rel="prefetch" href="/book/assets/js/40.e83470d2.js"><link rel="prefetch" href="/book/assets/js/41.e38a531e.js"><link rel="prefetch" href="/book/assets/js/42.d454a629.js"><link rel="prefetch" href="/book/assets/js/43.e71bbc53.js"><link rel="prefetch" href="/book/assets/js/44.e697f1c9.js"><link rel="prefetch" href="/book/assets/js/45.3c178858.js"><link rel="prefetch" href="/book/assets/js/46.8b84c4d4.js"><link rel="prefetch" href="/book/assets/js/47.00ed42af.js"><link rel="prefetch" href="/book/assets/js/48.c547d36b.js"><link rel="prefetch" href="/book/assets/js/49.a94e51ed.js"><link rel="prefetch" href="/book/assets/js/5.fe8df24d.js"><link rel="prefetch" href="/book/assets/js/50.45bf85ae.js"><link rel="prefetch" href="/book/assets/js/51.521febf2.js"><link rel="prefetch" href="/book/assets/js/52.4019ba2d.js"><link rel="prefetch" href="/book/assets/js/53.dd909c02.js"><link rel="prefetch" href="/book/assets/js/54.1b49b742.js"><link rel="prefetch" href="/book/assets/js/55.781976de.js"><link rel="prefetch" href="/book/assets/js/56.8be125a9.js"><link rel="prefetch" href="/book/assets/js/57.973113d5.js"><link rel="prefetch" href="/book/assets/js/58.772e8a37.js"><link rel="prefetch" href="/book/assets/js/59.62e17687.js"><link rel="prefetch" href="/book/assets/js/6.b8457bdc.js"><link rel="prefetch" href="/book/assets/js/60.fc8a1294.js"><link rel="prefetch" href="/book/assets/js/61.3bf23727.js"><link rel="prefetch" href="/book/assets/js/62.9f83a452.js"><link rel="prefetch" href="/book/assets/js/63.f0cf5d00.js"><link rel="prefetch" href="/book/assets/js/64.188253fd.js"><link rel="prefetch" href="/book/assets/js/65.11ff922f.js"><link rel="prefetch" href="/book/assets/js/66.f68b57b1.js"><link rel="prefetch" href="/book/assets/js/67.67f61cd7.js"><link rel="prefetch" href="/book/assets/js/68.b32f5e8c.js"><link rel="prefetch" href="/book/assets/js/69.c37ffa0c.js"><link rel="prefetch" href="/book/assets/js/70.2ab77931.js"><link rel="prefetch" href="/book/assets/js/71.46e0b7dd.js"><link rel="prefetch" href="/book/assets/js/72.dbdac20b.js"><link rel="prefetch" href="/book/assets/js/73.9fc0cabd.js"><link rel="prefetch" href="/book/assets/js/74.490b6889.js"><link rel="prefetch" href="/book/assets/js/75.df981cea.js"><link rel="prefetch" href="/book/assets/js/76.7957243e.js"><link rel="prefetch" href="/book/assets/js/77.f6664887.js"><link rel="prefetch" href="/book/assets/js/78.f8cd2041.js"><link rel="prefetch" href="/book/assets/js/79.51c7ff17.js"><link rel="prefetch" href="/book/assets/js/8.fcfda84a.js"><link rel="prefetch" href="/book/assets/js/80.8f79e5db.js"><link rel="prefetch" href="/book/assets/js/81.be9d7406.js"><link rel="prefetch" href="/book/assets/js/82.5c65fe44.js"><link rel="prefetch" href="/book/assets/js/83.753dadb6.js"><link rel="prefetch" href="/book/assets/js/84.e8ba21d0.js"><link rel="prefetch" href="/book/assets/js/85.ce4a60f2.js"><link rel="prefetch" href="/book/assets/js/86.a44019ac.js"><link rel="prefetch" href="/book/assets/js/87.272f4380.js"><link rel="prefetch" href="/book/assets/js/88.aeaf3f6f.js"><link rel="prefetch" href="/book/assets/js/89.da73e578.js"><link rel="prefetch" href="/book/assets/js/9.539bb88c.js"><link rel="prefetch" href="/book/assets/js/90.b492b3ef.js"><link rel="prefetch" href="/book/assets/js/91.15f180d5.js"><link rel="prefetch" href="/book/assets/js/92.2f7fb5cd.js"><link rel="prefetch" href="/book/assets/js/93.256eda08.js"><link rel="prefetch" href="/book/assets/js/94.20cf62c4.js"><link rel="prefetch" href="/book/assets/js/95.ff052794.js"><link rel="prefetch" href="/book/assets/js/96.e8501225.js"><link rel="prefetch" href="/book/assets/js/97.93da6d3a.js"><link rel="prefetch" href="/book/assets/js/98.71c2d6f6.js"><link rel="prefetch" href="/book/assets/js/99.25f4671a.js"><link rel="prefetch" href="/book/assets/js/vendors~docsearch.3644c41e.js">
    <link rel="stylesheet" href="/book/assets/css/0.styles.37081601.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/book/" class="home-link router-link-active"><!----> <span class="site-name">日常收集</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>dom的事件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/book/338.html" class="sidebar-link"> JS异步编程——WebWorker多线程机制</a></li><li><a href="/book/337.html" class="sidebar-link">js</a></li><li><a href="/book/336.html" class="sidebar-link"> [核心概念] 一文说透JS中的原型和继承(上)</a></li><li><a href="/book/335.html" class="sidebar-link"> [关联概念] 一文说透 JS 中的变量提升</a></li><li><a href="/book/334.html" class="sidebar-link"> [核心概念] 一文说透浏览器环境下的JS运行机制</a></li><li><a href="/book/333.html" class="sidebar-link"> [核心概念] 一文说透JS中的函数柯里化(Currying)</a></li><li><a href="/book/332.html" class="sidebar-link"> [核心概念] 一文说透 JS 中 this 的基本概念</a></li><li><a href="/book/331.html" class="sidebar-link"> [核心概念] 一文说透 JS 的作用域（scope）</a></li><li><a href="/book/330.html" class="sidebar-link"> [核心概念] 一文说透 JS 中的闭包（closure）</a></li><li><a href="/book/329.html" aria-current="page" class="active sidebar-link"> [核心概念] 一文说透 JS 中的执行上下文</a></li><li><a href="/book/268.html" class="sidebar-link"> 「硬核JS」你真的了解垃圾回收机制吗</a></li><li><a href="/book/262.html" class="sidebar-link"> 「硬核JS」你的程序中可能存在内存泄漏</a></li><li><a href="/book/229.html" class="sidebar-link"> 聊聊JS的二进制家族：Blob、ArrayBuffer和Buffer</a></li><li><a href="/book/226.html" class="sidebar-link"> `Object.defineProperty()详解`</a></li><li><a href="/book/180.html" class="sidebar-link">yield是什么</a></li><li><a href="/book/175.html" class="sidebar-link">HTTP请求中，几种常见的Content-Type类型</a></li><li><a href="/book/172.html" class="sidebar-link"> js 给元素添加、删除父标签</a></li><li><a href="/book/171.html" class="sidebar-link"> 多个promise实现</a></li><li><a href="/book/131.html" class="sidebar-link"> Object.defineProperty和Object.defineProperties()</a></li><li><a href="/book/126.html" class="sidebar-link"> scrollHeight,scrollLeft,offsetHeight,offsetLeft</a></li><li><a href="/book/118.html" class="sidebar-link"> 怎样让 forEach 停下来呢；**try catch**</a></li><li><a href="/book/105.html" class="sidebar-link">div拖动的实现</a></li><li><a href="/book/93.html" class="sidebar-link">JavaScript对象之深拷贝和浅拷贝</a></li><li><a href="/book/92.html" class="sidebar-link">base64。js</a></li><li><a href="/book/85.html" class="sidebar-link">你也许不知道的JavaScript高级函数</a></li><li><a href="/book/78.html" class="sidebar-link">ESmodules:Acartoondeep-dive</a></li><li><a href="/book/73.html" class="sidebar-link">setTimeout和setImmediate到底谁先执行，本文让你彻底理解EventLoop</a></li><li><a href="/book/71.html" class="sidebar-link">一种对开发更友好的前端骨架屏自动生成方案</a></li><li><a href="/book/68.html" class="sidebar-link">深入理解ESModules(手绘示例)</a></li><li><a href="/book/48.html" class="sidebar-link">系统学习前端之FormData详解</a></li><li><a href="/book/47.html" class="sidebar-link">使用FormData上传文件</a></li><li><a href="/book/46.html" class="sidebar-link">数组排序方法</a></li><li><a href="/book/43.html" class="sidebar-link">利于FileReader实现二进制数据流转JSON</a></li><li><a href="/book/28.html" class="sidebar-link">reduce过滤数组中重复对象</a></li><li><a href="/book/27.html" class="sidebar-link">常用文件类型对应</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>element-ui</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/31.html" class="sidebar-link"> 知识库管理系统开发 log记录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Qcanvas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大屏</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/328.html" class="sidebar-link"> 从哲学层面浅谈计算机学习方法论</a></li><li><a href="/book/324.html" class="sidebar-link"> 微信游览器，解决安卓和ios自动播放音乐</a></li><li><a href="/book/323.html" class="sidebar-link"> CSS3 animation属性中的steps功能符深入介绍</a></li><li><a href="/book/322.html" class="sidebar-link"> 前端搞工程化：从零打造性能检测库「源码 + 视频」</a></li><li><a href="/book/321.html" class="sidebar-link"> 还在看那些老掉牙的性能优化文章么？这些最新性能指标了解下</a></li><li><a href="/book/320.html" class="sidebar-link"> Nginx根据User Agent动态配置root目录适配移动端</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>可视化大屏</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/307.html" class="sidebar-link"> cat文档内容中搜索字符串输出到文件</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/301.html" class="sidebar-link">从App store下载App的不同版本ipa文件----很多东西也不是越新越好，比如APP——在 iPhone 上尤其如此</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作总结</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/294.html" class="sidebar-link">迟子建老师的《一坛猪油》</a></li><li><a href="/book/289.html" class="sidebar-link">ata-rawheight=&amp;quot;143&amp;quot;class=&amp;quot;content_image&amp;quot;width=&amp;quot;322&amp;quot;/&amp;gt;![](/Public/upload/20211027/16353179551.jpg)温馨提示：内容较长，需耐心观看</a></li><li><a href="/book/288.html" class="sidebar-link">文本文档的协同编辑实现</a></li><li><a href="/book/287.html" class="sidebar-link">再见，整洁代码</a></li><li><a href="/book/286.html" class="sidebar-link"> 可以在 Nginx 中运行 JavaScript，厉害了！</a></li><li><a href="/book/284.html" class="sidebar-link"> word中批量调整图片大小</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>成考学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>electron打包的一些问题</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/274.html" class="sidebar-link"> 文件分片代码</a></li><li><a href="/book/273.html" class="sidebar-link"> 重学 JS：为啥 await 不能用在 forEach 中详解</a></li><li><a href="/book/269.html" class="sidebar-link"> Excel函数之王，Vlookup到底怎么用？</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/263.html" class="sidebar-link"> 文档标题</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>批处理</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/248.html" class="sidebar-link"> 《提问的智慧》精读注解版</a></li><li><a href="/book/247.html" class="sidebar-link"> 1368个单词</a></li><li><a href="/book/199.html" class="sidebar-link"> js监听div的resize事件</a></li><li><a href="/book/198.html" class="sidebar-link"> 引入第三方字体体积太大的问题</a></li><li><a href="/book/195.html" class="sidebar-link"> 多行溢出省略号显示（css/js）实现！</a></li><li><a href="/book/190.html" class="sidebar-link">今天带大家一起来看看下，如何实现“划词高亮”功能。</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>极简中国史趣味笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>拓扑图</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Canvas</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作中解决的疑难问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/book/146.html" class="sidebar-link"> 文档标题</a></li><li><a href="/book/140.html" class="sidebar-link">gdfdgf</a></li><li><a href="/book/137.html" class="sidebar-link">测试</a></li><li><a href="/book/135.html" class="sidebar-link"> 深夜，我偷听到程序员要对session下手</a></li><li><a href="/book/132.html" class="sidebar-link"> 读 《深入浅出webpack》</a></li><li><a href="/book/117.html" class="sidebar-link">双兔傍地走，安能辨我forEach还是for</a></li><li><a href="/book/115.html" class="sidebar-link"> 文档标题</a></li><li><a href="/book/103.html" class="sidebar-link"> 一道被人轻视的前端面试题</a></li><li><a href="/book/101.html" class="sidebar-link">部分前端面试题参考答案</a></li><li><a href="/book/80.html" class="sidebar-link">SVGDeveloper制作矢量地图教程详解</a></li><li><a href="/book/76.html" class="sidebar-link">VisualStudio2010创建的WCF（.dll）服务第一个应用</a></li><li><a href="/book/70.html" class="sidebar-link"> 测试</a></li><li><a href="/book/41.html" class="sidebar-link">为了开发做测试用</a></li><li><a href="/book/40.html" class="sidebar-link"> 文档标题</a></li><li><a href="/book/38.html" class="sidebar-link">文档标题</a></li><li><a href="/book/33.html" class="sidebar-link">文档标题</a></li><li><a href="/book/32.html" class="sidebar-link">测试锚点问题</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="核心概念-一文说透-js-中的执行上下文"><a href="#核心概念-一文说透-js-中的执行上下文" class="header-anchor">#</a> [核心概念] 一文说透 JS 中的执行上下文</h1> <h1 id="执行上下文"><a href="#执行上下文" class="header-anchor">#</a> 执行上下文</h1> <h2 id="系列开篇"><a href="#系列开篇" class="header-anchor">#</a> 系列开篇</h2> <blockquote><p>为进入前端的你建立<strong>清晰、准确、必要</strong>的<strong>概念</strong>和这些概念的之间<strong>清晰、准确、必要</strong>的<strong>关联</strong>, 让你不管在什么面试中都能淡定从容。没有目录，而是通过概念关联形成了一张知识网络，往下看你就明白了。当你遇到【关联概念】时，可先从括号中的(强/弱)判断简单这个关联是对你正在理解的概念是强相关(得先理解你才能继续往下)还是弱相关(知识拓展)从而提高你的阅读效率。我也会定期更新相关关联概念。</p></blockquote> <h3 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h3> <ul><li>什么是执行上下文？</li> <li>当 JS 引擎处理一段脚本内容的时候，它是以怎样的顺序解析和执行的？</li> <li>与之相关的词法环境，this 指向，全局执行上下文，变量对象等都是些啥？</li></ul> <h1 id="这是干什么的"><a href="#这是干什么的" class="header-anchor">#</a> 这是干什么的？</h1> <p>当引擎解析到可执行代码时，会创建对应的 &quot;<strong>执行上下文</strong>(execution context 简称 EC)&quot; 或者也可以叫做<strong>执行环境</strong>。它是代码<strong>执行环境</strong>的抽象概念。</p> <h2 id="和作用域的区别"><a href="#和作用域的区别" class="header-anchor">#</a> 和作用域的区别</h2> <p>和 作用域【关联概念(强)】听上去有点像，但不要搞混，是不同概念。</p> <p>最大区别简单来说，之前提到的<strong>词法作用域</strong>规则是在代码<strong>定义时</strong>就确定了，无可改变。</p> <p>而执行上下文是在代码<strong>执行时可以改变</strong>的环境。</p> <p>比如你定义了一个函数，它的<strong>作用域</strong>在<strong>函数定义时</strong>就已经确定了，但是<strong>执行上下文</strong>是<strong>函数调用之前</strong>创建的。</p> <h2 id="执行上下文栈"><a href="#执行上下文栈" class="header-anchor">#</a> 执行上下文栈</h2> <p>我们每调用一个函数，就会创建一个新的执行上下文，那么如何管理如此复杂的调用创建的执行上下文呢？</p> <p>这就有了<strong>执行上下文栈</strong>，或者叫<strong>调用栈</strong>，<strong>执行栈</strong>，execution context stack，ECS都行。这个概念听着耳熟，聊 this 时是不是经常听到，分析 this 指向就分析调用栈，后面细说。</p> <p>栈【数据结构】, 具有 LIFO（后进先出）结构。我们用它来存储在代码执行期间创建的所有执行上下文。</p> <h3 id="全局执行上下文"><a href="#全局执行上下文" class="header-anchor">#</a> 全局执行上下文</h3> <p>首先我们介绍下一个特殊的执行上下文，<strong>全局执行上下文</strong>，一个程序中<strong>只会存在一个唯一的</strong>全局上下文。</p> <p>当 JavaScript 开始要解释执行代码的时候，最先遇到的就是全局代码，所以首先就会向执行上下文栈压入一个全局执行上下文，它在整个程序生命周期内都会存在于执行栈的<strong>最底部</strong>，除非整个应用程序结束，栈才会被清空。</p> <h3 id="函数执行上下文"><a href="#函数执行上下文" class="header-anchor">#</a> 函数执行上下文</h3> <p>我们每调用一个函数，就会创建一个新的执行上下文。一般我们所讨论的都是函数执行上下文。</p> <h3 id="模拟过程"><a href="#模拟过程" class="header-anchor">#</a> 模拟过程</h3> <p>我们简易来模拟下，定义一个数组 <code>ExecutionContextStack = []</code>代表执行上下文栈。</p> <p>首先是全局执行上下文入栈。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 全局执行上下文 globalContext 表示</span>
ExecutionContextStack <span class="token operator">=</span> <span class="token punctuation">[</span>
    globalContext
<span class="token punctuation">]</span><span class="token punctuation">;</span>
复制代码
</code></pre></div><p>然后执行到这段代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'k'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
复制代码
</code></pre></div><p>那么大概模拟过程的伪代码应该是</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 函数执行上下文 functionContext 表示</span>
<span class="token comment">// 调用outer();</span>
ExecutionContextStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>outer<span class="token operator">&gt;</span> functionContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// outer中调用了inner，还要创建inner函数的执行上下文</span>
ExecutionContextStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>inner<span class="token operator">&gt;</span> functionContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// inner执行完毕</span>
ExecutionContextStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// outer执行完毕</span>
ExecutionContextStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// javascript接着执行下面的代码，为新的函数创建新的执行上下文</span>
复制代码
</code></pre></div><p>大概流程图示</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>全局执行上下文入栈    outer函数上下文入栈          inner函数上下文入栈 
<span class="token operator">|</span>             <span class="token operator">|</span>  <span class="token operator">|</span>                      <span class="token operator">|</span>  <span class="token operator">|</span>inner functionContext <span class="token operator">|</span>
<span class="token operator">|</span>             <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token operator">|</span>outer functionContext <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token operator">|</span>outer functionContext <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">&gt;</span>
<span class="token operator">|</span>globalContext<span class="token operator">|</span>  <span class="token operator">|</span>     globalContext    <span class="token operator">|</span>  <span class="token operator">|</span>    globalContext     <span class="token operator">|</span>

   inner执行完出栈            outer执行完毕出栈 
<span class="token operator">|</span>                       <span class="token operator">|</span>  <span class="token operator">|</span>               <span class="token operator">|</span>   继续执行下面的代码，但是栈底永
<span class="token operator">|</span> outer functionContext <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token operator">|</span>               <span class="token operator">|</span><span class="token operator">-</span><span class="token operator">&gt;</span> 远有个globalContext直到整
<span class="token operator">|</span>    globalContext      <span class="token operator">|</span>  <span class="token operator">|</span> globalContext <span class="token operator">|</span>     个应用程序结束执行，栈置空
复制代码
</code></pre></div><h2 id="执行上下文的创建过程"><a href="#执行上下文的创建过程" class="header-anchor">#</a> 执行上下文的创建过程</h2> <p>为什么要了解创建过程，实际上就是在<strong>分解执行上下文的结构</strong></p> <p>大概分为这几部分</p> <ul><li><strong>确定 <strong>this</strong> 如何绑定</strong> (This Binding)</li> <li><strong>词法环境</strong> (Lexical Environment)</li> <li><strong>变量环境</strong> (Variable Environment)
看上去长这样</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 执行上下文概念伪代码</span>
ExecutionContext <span class="token operator">=</span> <span class="token punctuation">{</span>
  ThisBinding <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">this</span> value<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  LexicalEnvironment <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  VariableEnvironment <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
复制代码
</code></pre></div><h3 id="this-binding"><a href="#this-binding" class="header-anchor">#</a> This Binding</h3> <p>简单来说，在<strong>全局执行上下文中</strong>，this 的值指向<strong>全局对象</strong>【关联概念(强)】</p> <p><strong>在函数执行上下文中</strong>，this 的值取决于函数的<strong>调用方式</strong>，在此不细说。请看 this【关联概念(强)】概念专题。</p> <h3 id="词法环境-lexical-environment"><a href="#词法环境-lexical-environment" class="header-anchor">#</a> 词法环境 Lexical Environment</h3> <p>在 JavaScript 中，每个运行的函数，代码块 {...} 以及整个脚本，都有一个被称为 词法环境（Lexical Environment）的内部（隐藏）的关联对象。</p> <p>这是一个<strong>规范对象（specification object）</strong>：它仅仅是存在于 编程语言规范中的“理论上”存在的，用于描述事物如何运作的对象。我们<strong>无法在代码中获取该对象并直接对其进行操作</strong>。</p> <p>词法环境对象由两部分组成：</p> <ul><li><strong>环境记录</strong>（Environment Record）—— 一个存储所有局部变量作为其属性（包括一些其他信息，例如 this 的值）的对象。</li> <li><strong>对外部词法环境的引用</strong>，与外部代码相关联(可以访问外部的词法环境)。</li></ul> <p>所以 <strong>一个“变量</strong>”只是<strong>环境记录</strong>这个特殊的内部对象的<strong>一个属性</strong>。“获取或修改变量”意味着“获取或修改词法环境的一个属性”。</p> <h4 id="举例"><a href="#举例" class="header-anchor">#</a> 举例</h4> <p>下面的例子来源于现代 JavaScript 教程 文末有链接，非常清晰。</p> <p>这段没有函数的简单的代码中只有一个词法环境：</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/854f9ce887514d9fa7a0cec9e8ef796d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>这就是所谓的与整个脚本相关联的 <strong>全局词法环境</strong>。</p> <p>在上面的图片中，矩形表示<strong>环境记录</strong>（变量存储），箭头表示<strong>外部引用</strong>。</p> <p><strong>全局词法环境没有外部引用</strong>，所以箭头指向了 <strong>null</strong>。</p> <p>随着代码开始并继续运行，词法环境发生了变化。这是更长的代码：</p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70b24c1324994519afb3480c9b25ab8f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>右侧的矩形演示了执行过程中全局词法环境的变化：</p> <ul><li>当脚本开始运行，词法环境<strong>预先填充</strong>了<strong>所有声明的变量</strong>。
<ul><li>最初，它们处于“未初始化（<strong>Uninitialized</strong>）”状态。这是一种特殊的内部状态，这意味着引擎知道变量，但是在用 let 声明前，不能引用它。几乎就像变量不存在一样。</li></ul></li> <li>然后 let phrase 定义出现了。它尚未被赋值，因此它的值为 undefined。从这一刻起，我们就可以使用变量了。</li> <li>phrase 被赋予了一个值。</li> <li>phrase 的值被修改。</li></ul> <p>然后我们再来看看<strong>函数声明</strong></p> <p>一个函数其实也是一个值，就像变量一样。</p> <p><strong>不同之处在于函数声明的初始化会被立即完成。</strong> 有没有印象，这就是<strong>变量提升</strong> -&gt; <strong>函数优先</strong>的原理【关联子概念】</p> <p>当创建了一个词法环境（Lexical Environment）时，函数声明会立即变为<strong>即用型函数</strong>（不像 let 那样直到声明处才可用）。</p> <p>这就是为什么我们可以在（函数声明）的定义之前调用函数声明。</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a1dd17082d03424aac3f3fe6fabc890c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>但这种行为<strong>仅适用于函数声明</strong>，而<strong>不适用</strong>于我们将函数分配给变量的<strong>函数表达式</strong>，例如 let say = function(name) {...}</p> <p>我们再来看看<strong>内部</strong>词法环境和<strong>外部</strong>词法环境的关联</p> <p>首先有内部，说明有函数执行，在全局或函数内部的词法环境中又创建了内部的函数环境，说作用域会不会更清楚，其实这边要讲的就是<strong>作用域链的原理</strong>。</p> <p>在一个函数运行时，在调用刚开始时，会自动创建一个新的词法环境以存储这个调用的局部变量和参数。</p> <p>例如，对于 say(&quot;John&quot;)，它看起来像这样（当前执行位置在箭头标记的那一行上）：</p> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e6ae32d4269e46e696661f67b728ec27~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>在这个函数调用期间，我们有两个词法环境：内部一个（用于函数调用）和外部一个（全局）：</p> <ul><li>内部词法环境与<code>say</code> 的当前执行相对应。它具有一个单独的属性：<code>name</code>，函数的参数。我们调用的是<code>say(&quot;John&quot;)</code>，所以<code>name</code> 的值为<code>&quot;John&quot;</code>。</li> <li>外部词法环境是全局词法环境。它具有<code>phrase</code> 变量和函数本身。</li></ul> <p>内部词法环境引用了 outer。</p> <p><strong>当代码要访问一个变量时 —— 首先会搜索内部词法环境，然后搜索外部环境，然后搜索更外部的环境，以此类推，直到全局词法环境。</strong></p> <p>如果在任何地方都找不到这个变量，那么在严格模式下就会报错（在非严格模式下，为了向下兼容，给未定义的变量赋值会创建一个全局变量）。</p> <p>在这个示例中，搜索过程如下：</p> <ul><li>对于<code>name</code> 变量，当<code>say</code> 中的<code>alert</code> 试图访问<code>name</code> 时，会立即在<strong>内部词法环境中</strong>找到它。</li> <li>当它试图访问<code>phrase</code> 时，然而内部没有<code>phrase</code>，所以它顺着对<strong>外部词法环境的引用</strong>找到了它。</li></ul> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8c43779d98346c0ade0df6cd0ff9d56~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>是不是此时你清楚的明白了<strong>作用域链</strong>【关联概念(强)】到底是怎么形成的，为什么内部作用域可访问外部变量之类的问题都迎刃而解了。</p> <p>看这个例子, 当函数返回值是函数时:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">makeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token function">makeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
复制代码
</code></pre></div><p>在每次 makeCounter() 调用的开始，都会创建一个新的词法环境对象，以存储该 makeCounter 运行时的变量。
因此，我们有两层嵌套的词法环境，就像上面的示例一样：(注意现在只运行到红三角那)
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55b0c8fb55934078babb4f203347c2e6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>不同的是，在执行 makeCounter() 的过程中创建了一个仅占一行的嵌套函数：<code>return count++</code>。我们尚未运行它，<strong>仅创建</strong>了它。</p> <p>所有的函数在“诞生”时都会“记住”创建它们的词法环境。从技术上讲，这里没有什么魔法：<strong>所有函数</strong>都有名为 <strong>[[Environment]]</strong> 的<strong>隐藏属性</strong>，该属性<strong>保存了对创建该函数的词法环境的引用</strong>。
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5a10f9e42d547f1b30dfa73d59c75aa~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>因此，<code>counter.[[Environment]]</code> 有对 <code>{count: 0}</code> <strong>词法环境的引用</strong>。这就是函数记住它创建于何处的方式，与函数被在哪儿调用无关。<strong>[[Environment]] 引用在函数创建时被设置并永久保存</strong>。</p> <p>稍后，当调用 <code>counter()</code> 时，会为该调用创建一个新的词法环境，并且其外部词法环境引用获取于 <code>counter.[[Environment]]</code>：</p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b5e16f6f71e4fc4b5e3270c341bae3e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>现在，当 <code>counter()</code> 中的代码查找 <code>count</code> 变量时，它首先搜索自己的词法环境（为空，因为那里没有局部变量），然后是外部 <code>makeCounter()</code> 的词法环境，并且在哪里找到就在哪里修改。</p> <p><strong>在变量所在的词法环境中更新变量。</strong> 所以直接在 makeCounter 的词法环境中改变 count变量的值。</p> <p>这是执行后的状态：</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/08a2bd091a44471e8b9958b5baa366a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt=""></p> <p>如果我们调用 <code>counter() 多次</code>，count 变量将在<strong>同一位置</strong>增加到 2，3 等。因为我们查到的都是 <code>makeCounter()</code> 的词法环境<strong>这个引用被永久设置了，所以都是同一份</strong>。这就是闭包数据持久化的原理。</p> <p>JavaScript 中的函数会自动通过隐藏的 <strong>[[Environment]]</strong> 属性记住创建它们的位置，所以它们都可以访问外部变量。</p> <p>在面试时，前端开发者通常会被问到“什么是闭包？”，正确的回答应该是<strong>闭包的定义</strong>，并解释清楚为什么 JavaScript 中的所有函数都是闭包的，以及可能的关于 [[Environment]] 属性和词法环境原理的技术细节。</p> <p>关于闭包【关联概念】,点进去。</p> <blockquote><p><strong>看完上面的讲述，希望你会对作用域链，声明提升，闭包等概念有了更深层的认识!</strong></p></blockquote> <h3 id="变量环境-variable-environment"><a href="#变量环境-variable-environment" class="header-anchor">#</a> 变量环境 Variable Environment</h3> <p>变量环境也是一个词法环境，因此它具有上面定义的词法环境的所有属性。</p> <p>在 ES6 中，LexicalEnvironment 组件和 VariableEnvironment 组件的区别在于前者用于存储函数声明和变量（ <code>let</code> 和 <code>const</code> ）绑定，而后者仅用于存储变量（ <code>var</code> ）绑定。</p> <p>就不提 <code>var</code> 太多了，希望用好能生成块级作用域的 <code>let</code> / <code>const</code></p> <h1 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h1> <p>执行上下文<strong>创建过程</strong>是 JavaScript代码被解析和执行时准备运行环境的过程，执行上下文是代码<strong>执行环境</strong>的抽象概念。</p> <h1 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h1> <h3 id="解释型-or-编译型"><a href="#解释型-or-编译型" class="header-anchor">#</a> 解释型 OR 编译型</h3> <p>我们通常把 Javascript 归类位&quot;动态&quot;，&quot;解释执行&quot; 语言，事实上他是一门混合型语言(和传统编译有区别，不是提前编译，而且编译结果也不能在分布式系统中移植)，传统编译流程中，程序在执行一段源码前会经历3个步骤统称为 '编译'</p> <ul><li>分词/词法分析
<ul><li>这个过程会将由字符组成的字符串分解成（对编程语言来说）有意义的代码块，这些代 码块被称为词法单元。</li></ul></li> <li>解析/语法分析
<ul><li>这个过程是将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法 结构的树。这个树被称为“抽象语法树”（Abstract Syntax Tree，AST）【关联概念】。</li></ul></li> <li>优化/代码生成
<ul><li>将 AST 转换为可执行代码的过程称被称为代码生成</li></ul></li></ul> <h3 id="变量对象-vo、活动对象-ao"><a href="#变量对象-vo、活动对象-ao" class="header-anchor">#</a> 变量对象 VO、活动对象 AO</h3> <p>这些是ES3中的历史说法 有兴趣可以寻找相关材料</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li>You don't know javascript</li> <li>zh.javascript.info/closure</li> <li>juejin.cn/post/684490…</li> <li>github.com/mqyqingfeng…</li> <li>segmentfault.com/a/119000001…</li> <li>juejin.cn/post/684490…</li></ul> <p>.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}
文章来源：https://juejin.cn/post/6890705692643196935</p> <!----></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/book/330.html" class="prev">
         [核心概念] 一文说透 JS 中的闭包（closure）
      </a></span> <span class="next"><a href="/book/268.html">
         「硬核JS」你真的了解垃圾回收机制吗
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><section class="side-anchor"><ul style="display:none;"></ul></section></div></div>
    <script src="/book/assets/js/app.804da1e4.js" defer></script><script src="/book/assets/js/3.1fbb3b52.js" defer></script><script src="/book/assets/js/126.7eff814b.js" defer></script><script src="/book/assets/js/7.d1a7bcae.js" defer></script>
  </body>
</html>
