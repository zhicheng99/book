(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{290:function(n,e,t){"use strict";t.r(e);var a=t(10),l=Object(a.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"div拖动的实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#div拖动的实现"}},[n._v("#")]),n._v(" div拖动的实现")]),n._v(" "),t("p",[t("img",{attrs:{src:"Public/upload/2020-06-10/202006102052164893.png",alt:"5ee0d77c4c284.png"}})]),n._v(" "),t("p",[n._v("html")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('<div id="area">\n  <div id="areaResize"></div>\n</div>\n')])])]),t("p",[n._v("css")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("body{\n\n  padding:0;\n  margin:0;\n\n}\n#area{\n  width:100px;\n  height:100px;\n  background:#000;\n  position:absolute;\n  left:10px;\n  top:10px\n}\n#areaResize{\n  position:absolute;\n  left:100px;\n  top:100px;\n  width:20px;\n  height:20px;\n  background:red;\n}\n")])])]),t("p",[n._v("js")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("\nvar Event = {};\nEvent.addEvents = function(target,eventType,handle){\n    if(target.addEventListener){\n        Event.addEvents = function(target,eventType,handle){\n            target.addEventListener(eventType,handle,false);\n        };\n    }else{\n        Event.addEvents = function(target,eventType,handle){\n            target.attachEvent('on'+eventType,function(){\n                handle.call(target,arguments);\n            });\n        };\n    };\n    Event.addEvents(target,eventType,handle);\n};\n\nvar drag = null;\nvar disX = 0;\nvar disY = 0;\nEvent.addEvents(document,'mouseleave',function(event){\n  drag = null;\n})\nEvent.addEvents(document,'mousemove',function(event){\n  \n  \t\tif(drag !== null){\n        var e = event || window.event;\n       var scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;\n       var scrollY = document.documentElement.scrollTop || document.body.scrollTop;\n       var x = e.pageX || e.clientX + scrollX;\n       var y = e.pageY || e.clientY + scrollY; \n  \n        if(drag.id == 'areaResize'){\n           //限制拖动的区域 不能越过area的上边线和左边线\n          let hx = x - disX;\n          let hy = y - disY;\n\n          hx = (hx<=20)?20:hx;\n          hy = (hy<=20)?20:hy;\n\n\n          drag.style.left = hx+'px';\n          drag.style.top = hy+'px';\n\n\n          console.log('重置area大小');\n          let area = document.getElementById('area');\n  \n          area.style.width = hx+'px';\n          area.style.height = hy+'px';\n  \n  \n        }else{\n          drag.style.left = (x - disX)+'px';\n          drag.style.top = (y - disY)+'px';\n        }\n  \n  \n  \n  \n  \n      }\n  \t\t \n  \n})\nwindow.onload = function(){\n  \n  \n  Event.addEvents(document.getElementById('area'),'mousedown',function(event){\n    \t var e = event || window.event;\n       var scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;\n       var scrollY = document.documentElement.scrollTop || document.body.scrollTop;\n       var x = e.pageX || e.clientX + scrollX;\n       var y = e.pageY || e.clientY + scrollY; \n    \t \n    \t disX = x - event.target.offsetLeft;\n    \t disY = y - event.target.offsetTop;\n  \n  \n       console.log(x,y);\n       console.log(disX,disY)\n   \n       drag = event.target;\n  \n})\n  \n  \n  Event.addEvents(document.getElementById('area'),'mouseup',function(){\n    console.log('mouseup');\n    drag = null\n  })\n  \n}\n\n\n")])])]),t("backTop")],1)}),[],!1,null,null,null);e.default=l.exports}}]);